<div class="p-6 bg-white rounded-lg shadow-md">
  <h2 class="text-2xl font-bold mb-6 text-gray-800">مدیریت سفارشات</h2>

  <!-- وضعیت فیلتر -->
  <div class="mb-6">
    <label for="statusFilter" class="block text-sm font-medium text-gray-700 mb-2">فیلتر وضعیت:</label>
    <select id="statusFilter" [(ngModel)]="filterStatus" (change)="filterOrders()"
      class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
      <option value="">همه</option>
      <option value="pending">در انتظار</option>
      <option value="processing">در حال پردازش</option>
      <option value="completed">تکمیل شده</option>
    </select>
  </div>

  <!-- جدول سفارشات -->
  <div class="overflow-auto py-6 w-full">
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-100">
          <tr>
            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">کد سفارش</th>
            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">مجموع قیمت</th>
            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">وضعیت</th>
            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">محصولات</th>
            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">عملیات</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          <tr *ngFor="let order of filteredOrders" class="hover:bg-gray-50">
            <td class="px-6 py-4 whitespace-nowrap">{{ order.id }}</td>
            <td class="px-6 py-4 whitespace-nowrap">{{ order.total_price | currency:'تومان':'symbol':'1.0-0' }}</td>
            <td class="px-6 py-4 whitespace-nowrap">{{ getStatusText(order.status) }}</td>
            <td class="py-3 px-6 border border-gray-300 text-center">
              <div class="max-h-16 overflow-y-auto">
                <ul class="list-inside text-right">
                  <li *ngFor="let product of order.products">{{ product.name }},</li>
                </ul>
              </div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <select [(ngModel)]="order.status" (change)="updateOrderStatus(order)"
                class="block w-full px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                <option value="pending">انتظار</option>
                <option value="processing">پردازش</option>
                <option value="completed">تکمیل</option>
              </select>
            </td>
          </tr>
      </table>
    </div>
  </div>
</div>